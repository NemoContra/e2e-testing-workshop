<h1 testId="headline">Flight Search</h1>

<form (submit)="search()">
  <div class="form-group">
    <label>From:</label>
    <input
      [ngModel]="from()"
      (ngModelChange)="from.set($event)"
      [ngModelOptions]="{ updateOn: 'change' }"
      testId="from"
      class="form-control"
      minlength="3"
      name="from"
      required
    />
  </div>

  <div class="form-group">
    <label>To:</label>
    <input
      [ngModel]="to()"
      (ngModelChange)="to.set($event)"
      testId="to"
      class="form-control"
      name="to"
    />
  </div>

  <button type="submit" class="btn" [disabled]="loading()" testId="search">
    Search
  </button>
</form>

<br />

<div class="row" testId="flight-cards">
  <div
    *ngFor="let flight of flights()"
    class="col-xs-12 col-sm-6 col-md-4 col-lg-4 col-xl-3"
  >
    <flight-card [(selected)]="basket()[flight.id]" [selectedFlight]="flight" />
  </div>
</div>

<b>Basket</b>
<pre>{{ basket() | json }}</pre>
